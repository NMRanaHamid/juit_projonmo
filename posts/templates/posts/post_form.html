{% extends 'base.html' %}
{% block content %}

<div class="max-w-2xl mx-auto mt-12 bg-white p-8 rounded-2xl shadow-lg">

  <!-- Page Title -->
  <h2 class="text-3xl font-extrabold mb-8 text-gray-900 text-center">
    {% if form.instance.pk %}Edit{% else %}New{% endif %} Post
  </h2>

  <!-- Form -->
  <form method="post" enctype="multipart/form-data" class="space-y-6">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <!-- Title Field -->
    <div>
      <label class="block text-gray-700 font-medium mb-2">{{ form.title.label }}</label>
      <input
        type="text"
        name="{{ form.title.name }}"
        value="{{ form.title.value|default_if_none:'' }}"
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Enter post title"
      >
      {% if form.title.errors %}
        <p class="text-red-600 mt-1 text-sm">{{ form.title.errors|striptags }}</p>
      {% endif %}
    </div>

    <!-- Content Field -->
    <div>
      <label class="block text-gray-700 font-medium mb-2">{{ form.content.label }}</label>
      <textarea
        name="{{ form.content.name }}"
        rows="6"
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Write your post content here..."
      >{{ form.content.value|default_if_none:'' }}</textarea>
      {% if form.content.errors %}
        <p class="text-red-600 mt-1 text-sm">{{ form.content.errors|striptags }}</p>
      {% endif %}
    </div>

    <!-- Image Upload -->
    <div>
      <label class="block text-gray-700 font-medium mb-2">Upload Images</label>
      <input type="file" name="images" multiple class="w-full">
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-between items-center">
      <a href="{% url 'posts:post_list' %}"
         class="px-6 py-3 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200 transition shadow-md">
        ‚Üê Back to Posts
      </a>
      <button type="submit"
              class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition shadow-md">
        {% if form.instance.pk %}Update{% else %}Create{% endif %}
      </button>
    </div>

  </form>
</div>

{% endblock %}
